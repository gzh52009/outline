(self.webpackChunkw5_react=self.webpackChunkw5_react||[]).push([[730],{1730:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>p});var n=r(7294),t=r(9497),s=r(2402),l=r(8222),c=r(9602);function m(){return(m=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const o={labelCol:{span:6},wrapperCol:{span:16}},u={wrapperCol:{offset:6,span:16}},i=function(e,a){return new Promise(((e,r)=>{c.Z.get("/user/check",{username:a}).then((a=>{console.log("checkuser",a),400===a.code?r("用户名已存在"):e()}))}))},p=function(e){const a={username:[{required:!0,message:"用户名不能为空"},{max:12,min:3,message:"用户名必须为3到12位字符"},{validator:i,validateTrigger:"onBlur"}],password:[{required:!0,message:"密码不能为空"},{max:18,min:6,message:"密码必须为6到18位字符"}]};return n.createElement("div",null,n.createElement("h1",null,"免费注册"),n.createElement(t.Z,m({},o,{name:"basic",initialValues:{remember:!0},onFinish:a=>{console.log("Success:",a),c.Z.post("/reg",a).then((r=>{201===r.code&&e.history.replace({pathname:"/login",search:"username="+a.username,params:{a:10,b:20}})}))}}),n.createElement(t.Z.Item,{label:"用户名",name:"username",rules:a.username,validateTrigger:["onChange","onBlur"],hasFeedback:!0},n.createElement(s.Z,null)),n.createElement(t.Z.Item,{label:"密码",name:"password",rules:a.password},n.createElement(s.Z.Password,null)),n.createElement(t.Z.Item,u,n.createElement(l.Z,{type:"primary",htmlType:"submit"},"注册"))))}}}]);