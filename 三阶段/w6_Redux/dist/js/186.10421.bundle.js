(self.webpackChunkw5_react=self.webpackChunkw5_react||[]).push([[186],{5566:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>q});var r=t(7294),a=t(6156),o=t(2122),c=t(4184),l=t.n(c),u=t(1253),s=t(8991),i=t(6610),p=t(5991),d=t(379),f=t(4144),m=function(e){(0,d.Z)(t,e);var n=(0,f.Z)(t);function t(e){var r;(0,i.Z)(this,t),(r=n.call(this,e)).handleChange=function(e){var n=r.props,t=n.disabled,a=n.onChange;t||("checked"in r.props||r.setState({checked:e.target.checked}),a&&a({target:(0,s.Z)((0,s.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a="checked"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return(0,p.Z)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,c=n.className,s=n.style,i=n.name,p=n.id,d=n.type,f=n.disabled,m=n.readOnly,v=n.tabIndex,y=n.onClick,h=n.onFocus,b=n.onBlur,g=n.onKeyDown,C=n.onKeyPress,k=n.onKeyUp,x=n.autoFocus,O=n.value,Z=n.required,E=(0,u.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),w=Object.keys(E).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=E[n]),e}),{}),P=this.state.checked,I=l()(t,c,(e={},(0,a.Z)(e,"".concat(t,"-checked"),P),(0,a.Z)(e,"".concat(t,"-disabled"),f),e));return r.createElement("span",{className:I,style:s},r.createElement("input",(0,o.Z)({name:i,id:p,type:d,required:Z,readOnly:m,disabled:f,tabIndex:v,className:"".concat(t,"-input"),checked:!!P,onClick:y,onFocus:h,onBlur:b,onKeyUp:k,onKeyDown:g,onKeyPress:C,onChange:this.handleChange,autoFocus:x,ref:this.saveInput,value:O},w)),r.createElement("span",{className:"".concat(t,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,s.Z)((0,s.Z)({},n),{},{checked:e.checked}):null}}]),t}(r.Component);m.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const v=m;var y=t(5061),h=t(8481),b=t(8423),g=t(6032),C=r.createContext(null),k=function(e){var n=e.defaultValue,t=e.children,c=e.options,u=void 0===c?[]:c,s=e.prefixCls,i=e.className,p=e.style,d=e.onChange,f=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),m=r.useContext(g.E_),v=m.getPrefixCls,k=m.direction,x=r.useState(f.value||n||[]),O=(0,h.Z)(x,2),Z=O[0],E=O[1],P=r.useState([]),I=(0,h.Z)(P,2),j=I[0],N=I[1];r.useEffect((function(){"value"in f&&E(f.value||[])}),[f.value]);var K=function(){return u.map((function(e){return"string"==typeof e?{label:e,value:e}:e}))},S=v("checkbox",s),U="".concat(S,"-group"),F=(0,b.Z)(f,["value","disabled"]);u&&u.length>0&&(t=K().map((function(e){return r.createElement(w,{prefixCls:S,key:e.value.toString(),disabled:"disabled"in e?e.disabled:f.disabled,value:e.value,checked:-1!==Z.indexOf(e.value),onChange:e.onChange,className:"".concat(U,"-item"),style:e.style},e.label)})));var R={toggleOption:function(e){var n=Z.indexOf(e.value),t=(0,y.Z)(Z);-1===n?t.push(e.value):t.splice(n,1),"value"in f||E(t);var r=K();null==d||d(t.filter((function(e){return-1!==j.indexOf(e)})).sort((function(e,n){return r.findIndex((function(n){return n.value===e}))-r.findIndex((function(e){return e.value===n}))})))},value:Z,disabled:f.disabled,name:f.name,registerValue:function(e){N((function(n){return[].concat((0,y.Z)(n),[e])}))},cancelValue:function(e){N((function(n){return n.filter((function(n){return n!==e}))}))}},V=l()(U,(0,a.Z)({},"".concat(U,"-rtl"),"rtl"===k),i);return r.createElement("div",(0,o.Z)({className:V,style:p},F),r.createElement(C.Provider,{value:R},t))};const x=r.memo(k);var O=t(1687),Z=function(e,n){var t,c=e.prefixCls,u=e.className,s=e.children,i=e.indeterminate,p=void 0!==i&&i,d=e.style,f=e.onMouseEnter,m=e.onMouseLeave,y=e.skipGroup,h=void 0!==y&&y,b=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),k=r.useContext(g.E_),x=k.getPrefixCls,Z=k.direction,E=r.useContext(C),w=r.useRef(b.value);r.useEffect((function(){null==E||E.registerValue(b.value),(0,O.Z)("checked"in b||!!E||!("value"in b),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),r.useEffect((function(){if(!h)return b.value!==w.current&&(null==E||E.cancelValue(w.current),null==E||E.registerValue(b.value)),function(){return null==E?void 0:E.cancelValue(b.value)}}),[b.value]);var P=x("checkbox",c),I=(0,o.Z)({},b);E&&!h&&(I.onChange=function(){b.onChange&&b.onChange.apply(b,arguments),E.toggleOption&&E.toggleOption({label:s,value:b.value})},I.name=E.name,I.checked=-1!==E.value.indexOf(b.value),I.disabled=b.disabled||E.disabled);var j=l()((t={},(0,a.Z)(t,"".concat(P,"-wrapper"),!0),(0,a.Z)(t,"".concat(P,"-rtl"),"rtl"===Z),(0,a.Z)(t,"".concat(P,"-wrapper-checked"),I.checked),(0,a.Z)(t,"".concat(P,"-wrapper-disabled"),I.disabled),t),u),N=l()((0,a.Z)({},"".concat(P,"-indeterminate"),p));return r.createElement("label",{className:j,style:d,onMouseEnter:f,onMouseLeave:m},r.createElement(v,(0,o.Z)({},I,{prefixCls:P,className:N,ref:n})),void 0!==s&&r.createElement("span",null,s))},E=r.forwardRef(Z);E.displayName="Checkbox";const w=E;var P=w;P.Group=x,P.__ANT_CHECKBOX=!0;const I=P;var j=t(9497),N=t(2402),K=t(8222),S=t(7673),U=(t(5688),t(7703)),F=t(8180),R=t(4890);function V(){return(V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}const D={labelCol:{span:6},wrapperCol:{span:16}},_={wrapperCol:{offset:6,span:16}};function M(e){console.log("Login.props",e);const n=S.parse(e.location.search.slice(1));return console.log(e.location.search,n),r.createElement(j.Z,V({},D,{name:"basic",initialValues:{remember:!0,username:n.username},onFinish:n=>{console.log("Success:",n),fetch("/api/login",{body:JSON.stringify(n),headers:{"content-type":"application/json"},method:"POST"}).then((function(e){return e.json()})).then((function(n){console.log("data",n),200===n.code&&(e.login(n.data),e.history.replace("/mine"))}))}}),r.createElement(j.Z.Item,{label:"用户名",name:"username",rules:[{required:!0,message:"用户名不能为空"}]},r.createElement(N.Z,null)),r.createElement(j.Z.Item,{label:"密码",name:"password",rules:[{required:!0,message:"密码不能为空"}]},r.createElement(N.Z.Password,null)),r.createElement(j.Z.Item,V({},_,{name:"remember",valuePropName:"checked"}),r.createElement(I,null,"7天免登录")),r.createElement(j.Z.Item,_,r.createElement(K.Z,{type:"primary",htmlType:"submit"},"登录")))}const q=M=(0,U.$j)((e=>({})),(e=>(0,R.DE)(F.ZP,e)))(M)},2587:e=>{"use strict";function n(e,n){return Object.prototype.hasOwnProperty.call(e,n)}e.exports=function(e,t,r,a){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var c=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var s=0;s<u;++s){var i,p,d,f,m=e[s].replace(c,"%20"),v=m.indexOf(r);v>=0?(i=m.substr(0,v),p=m.substr(v+1)):(i=m,p=""),d=decodeURIComponent(i),f=decodeURIComponent(p),n(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},2361:e=>{"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(n(a))+r;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(n(e))})).join(t):o+encodeURIComponent(n(e[a]))})).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""}},7673:(e,n,t)=>{"use strict";n.decode=n.parse=t(2587),n.encode=n.stringify=t(2361)}}]);